{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/environment/Stock-Byte-App/stockbyte-app/app/javascript/components/Pages/portfolio.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nvar Portfolio = /*#__PURE__*/function (_React$Component) {\n  _inherits(Portfolio, _React$Component);\n\n  var _super = _createSuper(Portfolio);\n\n  function Portfolio(props) {\n    var _this;\n\n    _classCallCheck(this, Portfolio);\n\n    _this = _super.call(this, props);\n\n    _this.getPortfolio = function () {\n      fetch(\"https://08894f96464f4cd596494a1683acc75d.vfs.cloud9.us-east-1.amazonaws.com/portfolios\").then(function (response) {\n        if (response.status === 200) {\n          return response.json();\n        }\n      }).then(function (result) {\n        if (result.length === 0) {\n          _this.setState({\n            hasPortfolio: true\n          });\n        }\n      });\n    };\n\n    _this.createPortfolio = function () {\n      return fetch(\"https://08894f96464f4cd596494a1683acc75d.vfs.cloud9.us-east-1.amazonaws.com/portfolios\", {\n        body: JSON.stringify({\n          'name': 'default'\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\"\n      }).then(function (response) {\n        if (response.ok) {\n          _this.setState({\n            success: true\n          });\n\n          return _this.getPortfolio();\n        }\n      });\n    };\n\n    _this.getStockList = function () {\n      fetch(\"https://08894f96464f4cd596494a1683acc75d.vfs.cloud9.us-east-1.amazonaws.com/stocks?portfolio=default\").then(function (response) {\n        if (response.status === 200) {\n          return response.json();\n        }\n      }).then(function (result) {\n        _this.setState({\n          stockList: result\n        });\n      });\n    };\n\n    _this.state = {\n      hasPortfolio: false,\n      success: false,\n      stockList: []\n    };\n\n    _this.getPortfolio();\n\n    _this.getStockList();\n\n    return _this;\n  }\n\n  _createClass(Portfolio, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getPortfolio();\n      this.getStockList();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }\n      }, this.state.hasPortfolio && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }\n      }, \"Do you want to create a portfolio?\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.createPortfolio();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }, \"Create Portfolio\")), this.state.success && /*#__PURE__*/React.createElement(Redirect, {\n        to: \"./overview\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 39\n        }\n      }), !this.state.hasPortfolio && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        \"class\": \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        \"class\": \"col-form-label\",\n        \"for\": \"inputDefault\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }\n      }, \"Default input\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        \"class\": \"form-control\",\n        placeholder: \"Default input\",\n        id: \"inputDefault\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }\n      }, \"Portfolio List\"), /*#__PURE__*/React.createElement(\"table\", {\n        \"class\": \"table table-hover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 23\n        }\n      }, \"Symbol\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 23\n        }\n      }, \"Average Price\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 23\n        }\n      }, \"Quantity\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 23\n        }\n      }, \"Cost\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 19\n        }\n      }, this.state.stockList.map(function (stock, index) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          \"class\": \"table-active\",\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"row\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: \"/stock/\".concat(stock.symbol),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 41\n          }\n        }, stock.symbol)), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }\n        }, stock.average_price), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }\n        }, stock.total_quantity), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }\n        }, stock.value, \" \"));\n      })))));\n    }\n  }]);\n\n  return Portfolio;\n}(React.Component);\n\nexport default Portfolio;","map":{"version":3,"sources":["/home/ubuntu/environment/Stock-Byte-App/stockbyte-app/app/javascript/components/Pages/portfolio.js"],"names":["React","Redirect","Portfolio","props","getPortfolio","fetch","then","response","status","json","result","length","setState","hasPortfolio","createPortfolio","body","JSON","stringify","headers","method","ok","success","getStockList","stockList","state","map","stock","index","symbol","average_price","total_quantity","value","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Redirect } from \"react-router-dom\"\n\nclass Portfolio extends React.Component {\n    constructor(props){\n        super(props)\n        this.state={\n            hasPortfolio: false,\n            success: false,\n            stockList:[]\n        }\n        this.getPortfolio()\n        this.getStockList()\n    }\n    componentDidMount(){\n        this.getPortfolio()\n        this.getStockList()\n    }\n    getPortfolio = () => {\n        fetch(`https://08894f96464f4cd596494a1683acc75d.vfs.cloud9.us-east-1.amazonaws.com/portfolios`)\n        .then((response) => {\n            if(response.status === 200){\n                return(response.json())\n            }\n        }\n        )\n    .then((result) => {\n        if(result.length === 0){\n            this.setState({\n                hasPortfolio: true\n            })\n        }\n    })\n    }\n\n    createPortfolio = () => {\n        return fetch(`https://08894f96464f4cd596494a1683acc75d.vfs.cloud9.us-east-1.amazonaws.com/portfolios`, {\n            body: JSON.stringify({'name': 'default'}),\n\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            method: \"POST\"\n        })\n        .then((response) => {\n            if(response.ok){\n              this.setState({\n                success: true\n              })\n              return this.getPortfolio()\n            }\n        })\n    }\n    // this method retrieve stock list of current_user's default portfolio\n    getStockList = () => {\n      fetch(`https://08894f96464f4cd596494a1683acc75d.vfs.cloud9.us-east-1.amazonaws.com/stocks?portfolio=default`)\n        .then((response)=>{\n          if(response.status === 200){\n            return(response.json())\n          }\n        })\n        .then((result)=>{\n          this.setState({stockList:result})\n        })\n      }\n\n    render () {\n\n\n    return (\n        <React.Fragment>\n            { this.state.hasPortfolio &&\n              <div>\n                <p>Do you want to create a portfolio?</p>\n                <button onClick={() => this.createPortfolio()}>\n                  Create Portfolio\n                </button>\n              </div>}\n              { this.state.success && <Redirect to=\"./overview\"/>}\n            { !this.state.hasPortfolio &&\n              <div>\n                <div class=\"form-group\">\n                    <label class=\"col-form-label\" for=\"inputDefault\">Default input</label>\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Default input\" id=\"inputDefault\"/>\n                </div>\n                <h3>Portfolio List</h3>\n                <table class=\"table table-hover\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">Symbol</th>\n                      <th scope=\"col\">Average Price</th>\n                      <th scope=\"col\">Quantity</th>\n                      <th scope=\"col\">Cost</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                  { this.state.stockList.map((stock, index) => {\n                    return(\n                      <tr class=\"table-active\" key={ index }>\n                        <th scope=\"row\"><a href={`/stock/${ stock.symbol }`}>{ stock.symbol }</a></th>\n                        <td>{ stock.average_price }</td>\n                        <td>{ stock.total_quantity }</td>\n                        <td>{ stock.value } </td>\n                      </tr>)}\n                    )\n                  }\n                  </tbody>\n                </table>\n              </div>\n          }\n        </React.Fragment>\n        );\n    }\n}\n\nexport default Portfolio\n"]},"metadata":{},"sourceType":"module"}